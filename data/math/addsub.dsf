# Addition subtraction

COPYLA 2 wacc_h
COPYLA 3 wacc_l #1027

COPYLA 2 r0_l
CALL addrwacc
HALT


addrwacc:
CBR 1 252
COPYRA r0_l  # Load the LSB
ADDRA wacc_l # Add the LSB
BCRSC 1 252  # Check for carry 
JUMP load_add_carry
COPYRA r0_h
ADDRA r0_h
load_add_carry:
ADDLA 1
RETURN

copyrwacc:
COPYRR r0_h wacc_h
COPYRR r0_l wacc_l
RETURN



wacc:
wacc_h:
.DB 0
wacc_l:
.DB 0

r0:
r0_h:
.DB 0
r0_l:
.DB 0

r1:
r1_h:
.DB 0
r1_l:
.DB 0